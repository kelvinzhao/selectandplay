<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Select & Play - 设置</title>
  <link rel="stylesheet" href="options.css">
</head>
<body>
  <div class="options-container">
    <!-- 头部 -->
    <header class="options-header">
      <div class="header-content">
        <div class="header-left">
          <div class="app-icon">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M11 5L6 9H2v6h4l5 4V5z"/>
              <path d="M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07"/>
            </svg>
          </div>
          <div class="app-info">
            <h1>Select & Play</h1>
            <p class="app-version">版本 2.0.0</p>
          </div>
        </div>
        <div class="header-right">
          <a href="https://github.com/kelvinzhao/selectandplay" target="_blank" class="help-link">帮助文档</a>
        </div>
      </div>
    </header>

    <!-- 主内容 -->
    <main class="options-main">
      <!-- 通用设置 -->
      <section class="config-section">
        <div class="section-header">
          <div class="section-title">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M3 3l7.07 16.97 2.51-7.39 7.39-2.51L3 3z"/>
              <path d="M13 13l6 6"/>
            </svg>
            <h2>交互模式</h2>
          </div>
        </div>

        <div class="section-body">
          <div class="mode-selector">
            <label class="mode-option">
              <input type="radio" name="uiMode" value="mini" checked id="modeMini">
              <div class="mode-card">
                <div class="mode-info">
                  <h3>简洁版</h3>
                  <p>选中文字后自动开始播放，只有一个暂停/继续按钮，点击空白处关闭</p>
                </div>
              </div>
            </label>

            <label class="mode-option">
              <input type="radio" name="uiMode" value="standard" id="modeStandard">
              <div class="mode-card">
                <div class="mode-info">
                  <h3>标准版</h3>
                  <p>选中文字后弹出面板，显示文本预览，可手动点击播放/暂停/停止</p>
                </div>
              </div>
            </label>
          </div>
        </div>
      </section>

      <!-- Azure 配置部分 -->
      <section class="config-section" id="azureConfig">
        <div class="section-header">
          <div class="section-title">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"/>
            </svg>
            <h2>Azure TTS 服务配置</h2>
          </div>
          <div class="section-status" id="azureStatus">
            <span class="status-badge status-unknown">未配置</span>
          </div>
        </div>

        <div class="section-body">
          <div class="info-banner">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <circle cx="12" cy="12" r="10"/>
              <line x1="12" y1="16" x2="12" y2="12"/>
              <line x1="12" y1="8" x2="12" y2="8.01"/>
            </svg>
            <p>
              需要配置 Azure 语音服务才能使用。请前往
              <a href="https://azure.microsoft.com/zh-cn/services/cognitive-services/text-to-speech/" target="_blank">Azure 语音服务</a>
              创建免费账户并获取 API 密钥。
            </p>
          </div>

          <form class="config-form" id="azureForm">
            <div class="form-group">
              <label for="azureRegion" class="form-label">
                <span>区域</span>
                <span class="label-hint">服务所在区域</span>
              </label>
              <select id="azureRegion" class="form-select" required>
                <option value="">选择区域</option>
                <option value="eastasia">东亚 (香港)</option>
                <option value="southeastasia">东南亚 (新加坡)</option>
                <option value="japaneast">日本东 (东京)</option>
                <option value="koreacentral">韩国中部</option>
                <option value="westus">美国西部</option>
                <option value="eastus">美国东部</option>
                <option value="westeurope">西欧</option>
                <option value="northeurope">北欧</option>
              </select>
            </div>

            <div class="form-group">
              <label for="azureKey" class="form-label">
                <span>API 密钥</span>
                <span class="label-hint">Azure 语音服务密钥</span>
              </label>
              <div class="input-with-action">
                <input
                  type="password"
                  id="azureKey"
                  class="form-input"
                  placeholder="输入您的 API 密钥"
                  required
                >
                <button type="button" class="input-action-btn" id="toggleKeyBtn" title="显示/隐藏">
                  <svg class="eye-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/>
                    <circle cx="12" cy="12" r="3"/>
                  </svg>
                  <svg class="eye-off-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="display:none">
                    <path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"/>
                    <path d="M1 1l22 22"/>
                  </svg>
                </button>
              </div>
            </div>

            <div class="form-actions">
              <button type="submit" class="btn btn-primary" id="saveAzureBtn">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"/>
                  <polyline points="17 21 17 13 7 13 7 21"/>
                  <polyline points="7 3 7 8 15 8"/>
                </svg>
                保存配置
              </button>
              <button type="button" class="btn btn-secondary" id="testAzureBtn">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <polygon points="5 3 19 12 5 21 5 3"/>
                </svg>
                测试连接
              </button>
            </div>
          </form>
        </div>
      </section>

      <!-- 语音设置部分 -->
      <section class="config-section" id="voiceSettings">
        <div class="section-header">
          <div class="section-title">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"/>
              <path d="M19 10v2a7 7 0 0 1-14 0v-2"/>
              <line x1="12" y1="19" x2="12" y2="23"/>
              <line x1="8" y1="23" x2="16" y2="23"/>
            </svg>
            <h2>语音设置</h2>
          </div>
        </div>

        <div class="section-body">
          <!-- 选项卡 -->
          <div class="tabs">
            <button class="tab-btn active" data-tab="chinese">
              <span class="tab-icon">🇨🇳</span>
              中文
            </button>
            <button class="tab-btn" data-tab="english">
              <span class="tab-icon">🇺🇸</span>
              English
            </button>
            <button class="tab-btn" data-tab="japanese">
              <span class="tab-icon">🇯🇵</span>
              日本語
            </button>
          </div>

          <!-- 选项卡内容 -->
          <div class="tab-content">
            <!-- 中文设置 -->
            <div class="tab-pane active" data-pane="chinese">
              <form class="voice-form" data-lang="chinese">
                <div class="form-group">
                  <label class="form-label">选择语音</label>
                  <select class="form-select voice-select" data-lang="chinese">
                    <option value="zh-CN-XiaoxiaoNeural">晓晓 (女)</option>
                    <option value="zh-CN-YunxiNeural">云希 (男)</option>
                    <option value="zh-CN-YunyangNeural">云扬 (男)</option>
                    <option value="zh-CN-XiaoyiNeural">晓伊 (女)</option>
                    <option value="zh-CN-YunjianNeural">云健 (男)</option>
                    <option value="zh-CN-XiaohanNeural">晓涵 (女)</option>
                    <option value="zh-CN-XiaomengNeural">晓梦 (女)</option>
                    <option value="zh-CN-XiaochenNeural">晓辰 (女)</option>
                    <option value="zh-CN-XiaoxuanNeural">晓萱 (女)</option>
                  </select>
                </div>
                <div class="form-group">
                  <label class="form-label">
                    <span>语速</span>
                    <span class="speed-value">1.0x</span>
                  </label>
                  <input
                    type="range"
                    class="form-range speed-slider"
                    data-lang="chinese"
                    min="0.5"
                    max="2"
                    step="0.1"
                    value="1"
                  >
                  <div class="range-labels">
                    <span>0.5x</span>
                    <span>1.0x</span>
                    <span>1.5x</span>
                    <span>2.0x</span>
                  </div>
                </div>
                <div class="form-actions">
                  <button type="submit" class="btn btn-primary btn-sm">保存设置</button>
                </div>
              </form>
            </div>

            <!-- 英文设置 -->
            <div class="tab-pane" data-pane="english">
              <form class="voice-form" data-lang="english">
                <div class="form-group">
                  <label class="form-label">Select Voice</label>
                  <select class="form-select voice-select" data-lang="english">
                    <option value="en-US-JennyNeural">Jenny (Female)</option>
                    <option value="en-US-GuyNeural">Guy (Male)</option>
                    <option value="en-US-AriaNeural">Aria (Female)</option>
                    <option value="en-US-DavisNeural">Davis (Male)</option>
                    <option value="en-US-JasonNeural">Jason (Male)</option>
                    <option value="en-US-SaraNeural">Sara (Female)</option>
                    <option value="en-US-TonyNeural">Tony (Male)</option>
                    <option value="en-US-NancyNeural">Nancy (Female)</option>
                  </select>
                </div>
                <div class="form-group">
                  <label class="form-label">
                    <span>Speed</span>
                    <span class="speed-value">1.0x</span>
                  </label>
                  <input
                    type="range"
                    class="form-range speed-slider"
                    data-lang="english"
                    min="0.5"
                    max="2"
                    step="0.1"
                    value="1"
                  >
                  <div class="range-labels">
                    <span>0.5x</span>
                    <span>1.0x</span>
                    <span>1.5x</span>
                    <span>2.0x</span>
                  </div>
                </div>
                <div class="form-actions">
                  <button type="submit" class="btn btn-primary btn-sm">Save Settings</button>
                </div>
              </form>
            </div>

            <!-- 日文设置 -->
            <div class="tab-pane" data-pane="japanese">
              <form class="voice-form" data-lang="japanese">
                <div class="form-group">
                  <label class="form-label">音声を選択</label>
                  <select class="form-select voice-select" data-lang="japanese">
                    <option value="ja-JP-NanamiNeural">Nanami (女)</option>
                    <option value="ja-JP-KeitaNeural">Keita (男)</option>
                    <option value="ja-JP-AoiNeural">Aoi (女)</option>
                    <option value="ja-JP-DaichiNeural">Daichi (男)</option>
                    <option value="ja-JP-MayuNeural">Mayu (女)</option>
                    <option value="ja-JP-NaokiNeural">Naoki (男)</option>
                    <option value="ja-JP-AmamiNeural">Amami (女)</option>
                  </select>
                </div>
                <div class="form-group">
                  <label class="form-label">
                    <span>速度</span>
                    <span class="speed-value">1.0x</span>
                  </label>
                  <input
                    type="range"
                    class="form-range speed-slider"
                    data-lang="japanese"
                    min="0.5"
                    max="2"
                    step="0.1"
                    value="1"
                  >
                  <div class="range-labels">
                    <span>0.5x</span>
                    <span>1.0x</span>
                    <span>1.5x</span>
                    <span>2.0x</span>
                  </div>
                </div>
                <div class="form-actions">
                  <button type="submit" class="btn btn-primary btn-sm">設定を保存</button>
                </div>
              </form>
            </div>
          </div>
        </div>
      </section>

      <!-- 使用说明 -->
      <section class="config-section">
        <div class="section-header">
          <div class="section-title">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <circle cx="12" cy="12" r="10"/>
              <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"/>
              <line x1="12" y1="17" x2="12.01" y2="17"/>
            </svg>
            <h2>使用说明</h2>
          </div>
        </div>

        <div class="section-body">
          <div class="usage-steps">
            <div class="step-item">
              <div class="step-number">1</div>
              <div class="step-content">
                <h3>配置 Azure 服务</h3>
                <p>在上方填写您的 Azure 语音服务密钥和区域，点击"测试连接"验证</p>
              </div>
            </div>
            <div class="step-item">
              <div class="step-number">2</div>
              <div class="step-content">
                <h3>选择交互模式</h3>
                <p>简洁版：选中自动播放；标准版：手动点击播放。可在上方切换</p>
              </div>
            </div>
            <div class="step-item">
              <div class="step-number">3</div>
              <div class="step-content">
                <h3>选择语音</h3>
                <p>为中文、英文、日文分别选择合适的语音和语速</p>
              </div>
            </div>
            <div class="step-item">
              <div class="step-number">4</div>
              <div class="step-content">
                <h3>开始使用</h3>
                <p>在任意网页选中文字即可朗读</p>
              </div>
            </div>
          </div>
        </div>
      </section>
    </main>

    <!-- 页脚 -->
    <footer class="options-footer">
      <p>Select & Play - 让阅读更有声音</p>
    </footer>
  </div>

  <!-- 通知提示 -->
  <div class="toast" id="toast"></div>

  <script src="options.js"></script>
</body>
</html>
